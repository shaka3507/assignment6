<!DOCTYPE html>
<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
	<style type="text/css">
		body {
			text-align: center;
			font-family: "Permanent Marker", arial;
		}
		.guess-row {
			input {
				border: none;
				width: 250px;
				line-height: 48px;
				font-size: 36px;
				border-bottom: 2px solid lightgrey;
				margin-top: 10px;
				text-align: center;
				text-transform: uppercase;
				font-family: "Permanent Marker", arial;
			}

			input:focus {
				all: unset;
				line-height: 48px;
				font-size: 36px;
				width: 275px;
				border-bottom: 2px solid blue;
				margin-top: 10px;
				text-align: center;
				text-transform: uppercase;
				font-family: "Permanent Marker", arial;
			}

			button {
				border: 2px solid black;
				color: white;
				background: black;
			}
		}

	</style>
</head>
<body>
<h1>Wordle</h1>
<div id="message" />
<div class="guess-row" id="guess1">
	<input type="text" id="input0" maxlength="5"/>
	<button class="check-btn" id="0"> check </button>
</div>
<div class="guess-row" id="guess2">
	<input type="text" id="input1" maxlength="5"/>
	<button class="check-btn" id="1"> check </button>
<div class="guess-row" id="guess3">
	<input type="text" id="input2" maxlength="5"/>
	<button class="check-btn" id="2"> check </button>
</div>
<div class="guess-row" id="guess4">
	<input type="text" id="input3" maxlength="5"/>
	<button class="check-btn" id="3"> check </button>
</div>
<div class="guess-row" id="guess5">
	<input type="text" id="input4" maxlength="5"/>
	<button class="check-btn" id="4"> check </button>
</div>
<div class="guess-row" id="guess6">
	<input type="text" id="input5" maxlength="5"/>
	<button class="check-btn" id="5"> check </button>
</div>
<div>
<h3>Used Letters</h3>
</div>
<script>

	function compareWordToSolution(word, solution) {
		if (word === solution) {
			return 'correct'
		}
	}
	function getSolution() {
		const solutions = ['apple', 'least', 'plant', 'maker', 'sandy']
		const randomIndex= Math.floor((Math.random() * 5)) // get random number between 0 and 5, and use Math.floor() to ensure it's a whole number
		return solutions[randomIndex]
	}

	async function validate(guess) {
		const DICTIONARY_CHECK_API = 'https://api.dictionaryapi.dev/api/v2/entries/en/'
		const url = DICTIONARY_CHECK_API + guess
		
		try {
			const response = await fetch(url)
			return response.json()

		} catch (error) {
			console.error('error', error)
		}

	}
	window.onload = () => {
		const currentSolution = getSolution()
		console.log("currentSolution", currentSolution)
		const guesses = {
			0: '',
			1: '',
			2: '',
			3: '',
			4: '',
			5: '',
		}

		const checkBtns = document.querySelectorAll('.check-btn')

		checkBtns.forEach(btn => 
			btn.addEventListener('click', async () => {
				// check row
				const currentGuess = document.getElementById(`input${btn.id}`).value
				if(currentGuess.length === 5) {
					guesses[btn.id] = currentGuess
					const guessValidWord = await validate(currentGuess)
					if(!guessValidWord.title) {
						console.log("valid word")
					}
				}
			})
		)
	}
</script>
</body>
</html>